(()=>{"use strict";const e=window.wp.element,t=window.wp.compose,l=window.wp.blockEditor,a=window.wp.data,n=window.wp.editPost,r=window.wp.components,o=[],d=(0,t.compose)([(0,a.withSelect)((e=>{const{getEditedPostAttribute:t}=e("core/editor"),l=t("meta");let a=o;return"object"==typeof l.flyn_featured_gallery&&(a=l.flyn_featured_gallery),{galleryImageIds:a}})),(0,a.withDispatch)((e=>{const{editPost:t}=e("core/editor");return{onUpdateGallery(e){const l=e.map((e=>e.id));t({meta:{flyn_featured_gallery:l}})}}}))])((t=>{let{galleryImageIds:a,onUpdateGallery:o}=t;const d=(0,e.createElement)("p",null,"To edit the featured gallery, you need permission to upload media.");return(0,e.createElement)(n.PluginDocumentSettingPanel,{name:"FeaturedGallery",className:"flyn-featured-gallery",title:"Featured Gallery"},(0,e.createElement)(r.PanelRow,null,(0,e.createElement)("p",null,a.length," images selected.")),(0,e.createElement)(r.PanelRow,null,(0,e.createElement)(l.MediaUploadCheck,{fallback:d},(0,e.createElement)("div",{className:"editor-post-featured-gallery__container"}),(0,e.createElement)(l.MediaUpload,{title:"Featured gallery",multiple:!0,gallery:!0,onSelect:o,allowedTypes:["image"],render:t=>{let{open:l}=t;return(0,e.createElement)(r.Button,{onClick:l,className:"components-button editor-post-featured-image__toggle"},a.length?"Change gallery images":"Set gallery images")},value:a}))))})),{registerPlugin:i}=wp.plugins;i("flyn-featured-gallery",{icon:"none",render:d})})();